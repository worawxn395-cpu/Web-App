<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°</title>

<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
<script src="script.js"></script>

</head>
<body class="bg-blue-50">

<div class="bg-blue-600 text-white p-4 flex justify-center gap-6 font-semibold">
<a href="index.html">‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</a>
<a href="dashboard.html">Dashboard</a>
<a href="edit.html">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</a>
</div>

<div class="max-w-3xl mx-auto mt-6 bg-white p-6 rounded shadow">

<h1 class="text-xl font-bold mb-4 text-blue-700">
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡∏≠‡∏¥‡πÇ‡∏°‡∏à‡∏¥
</h1>

<div id="questions"></div>

<input id="newQ" placeholder="‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà"
class="border p-2 w-full mt-4 rounded">

<input id="newEmoji" placeholder="‡∏≠‡∏¥‡πÇ‡∏°‡∏à‡∏¥ ‡πÄ‡∏ä‡πà‡∏ô üò°,üòü,üòê,üòä,üòç"
class="border p-2 w-full mt-2 rounded">

<button onclick="addQ()" 
class="bg-green-500 text-white px-4 py-2 mt-3 rounded">
‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°
</button>

<button onclick="saveQ()" 
class="bg-blue-600 text-white px-4 py-2 mt-3 rounded">
‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
</button>

</div>

<script>

let questionData=[];

function loadQ(){
getQuestions().then(data=>{
questionData=data;
render();
});
}

function render(){
let box=document.getElementById("questions");
box.innerHTML="";

questionData.forEach((row,i)=>{

let question=row[0];
let emoji=row[1] || "";

box.innerHTML+=`
<div class="mb-4 border p-3 rounded bg-blue-50">
<input value="${question}" 
onchange="questionData[${i}][0]=this.value"
class="border p-2 w-full mb-2 rounded">

<input value="${emoji}"
onchange="questionData[${i}][1]=this.value"
class="border p-2 w-full mb-2 rounded"
placeholder="‡∏≠‡∏¥‡πÇ‡∏°‡∏à‡∏¥‡∏Ñ‡∏±‡πà‡∏ô‡∏î‡πâ‡∏ß‡∏¢ , ‡πÄ‡∏ä‡πà‡∏ô üò°,üòü,üòê,üòä,üòç">

<button onclick="delQ(${i})"
class="bg-red-500 text-white px-3 py-1 rounded">
‡∏•‡∏ö
</button>
</div>
`;
});
}

function addQ(){
let q=newQ.value;
let e=newEmoji.value;

if(!q) return;

questionData.push([q,e]);
newQ.value="";
newEmoji.value="";
render();
}

function delQ(i){
questionData.splice(i,1);
render();
}

function saveQ(){
saveQuestions(questionData).then(()=>{
alert("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");
});
}

loadQ();

</script>

</body>
</html>
